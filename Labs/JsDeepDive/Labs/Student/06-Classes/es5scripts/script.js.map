{"version":3,"file":"script.js","names":["allProducts","document","addEventListener","getElementById","doAdd","sort","displayProducts","reverse","push","copyWithin","length","doSearch","doFindFirst","description","value","email","priceStr","price","parseFloat","toFixed","salesStr","sales","parseInt","product","toUpperCase","big","bold","fontcolor","ts","Date","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","products","targetElement","str","entries","i","p","console","log","innerHTML","searchString","re","RegExp","matchingProducts","forEach","test","matchingProduct","find","undefined","alert","n"],"sources":["Student/06-Classes/es6scripts/script.js"],"sourcesContent":["const allProducts = [];\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\t\r\n    document.getElementById('add').addEventListener('click', doAdd);\r\n    \r\n    document.getElementById('sort').addEventListener('click', () => {\r\n        allProducts.sort();\r\n        displayProducts(allProducts);\r\n    });\r\n    \r\n    document.getElementById('reverse').addEventListener('click', () => {\r\n\t\tallProducts.reverse();\r\n        displayProducts(allProducts);\r\n    });    \r\n    \r\n    document.getElementById('repeat').addEventListener('click', () => {\r\n\t\tallProducts.push('Dummy')\r\n\t\tallProducts.copyWithin(allProducts.length-1, allProducts.length-2) \r\n        displayProducts(allProducts);\r\n    });    \r\n\t\r\n    document.getElementById('search').addEventListener('click', doSearch);\r\n    document.getElementById('findFirst').addEventListener('click', doFindFirst);\r\n});\r\n\r\nfunction doAdd() {\r\n\r\n    // Get the product suggestion (text).\r\n    const description = document.getElementById('description').value;\r\n\r\n    // Get the user's email address (text).\r\n    const email = document.getElementById('email').value;\r\n\r\n    // Get the recommended price (float).\r\n    const priceStr = document.getElementById('price').value;\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    // Get the estimated sales/year (int).\r\n    const salesStr = document.getElementById('sales').value;\r\n    const sales = parseInt(salesStr);\r\n\r\n    // Build a formatted string for this product suggestion.\r\n    let product = description.toUpperCase().big().bold().fontcolor('orange') + `<br/>\r\n                                Suggested by ${email}<br/>\r\n                                Â£${price} [projected sales ${sales}]<br/>`;\r\n\r\n    // Append the current date/time to the product string.\r\n    const ts = new Date();\r\n    const tsStr = `${ts.getDate()}/${ts.getMonth() + 1}/${ts.getFullYear()},    \r\n                   ${pad(ts.getHours())}:${pad(ts.getMinutes())}:${pad(ts.getSeconds())}`;\r\n    product += tsStr.fontcolor('blue');\r\n\r\n    // Add this product to the global array of all products.\r\n    allProducts.push(product);\r\n\r\n    // Redisplay all the products.\r\n    displayProducts(allProducts);\r\n}\r\n\r\nfunction displayProducts(products, targetElement='allProductsList') {\r\n\r\n    let str = '<ul>';\r\n    for (let [i,p] of products.entries()) {\r\n        str += `<li>${p}</li>`;\r\n\t\tconsole.log(`Displayed product at position ${i}, details: ${p}`)\r\n    }\r\n    str += '</ul>';\r\n\r\n    document.getElementById(targetElement).innerHTML = str;\r\n}\r\n\r\nfunction doSearch() {\r\n\r\n    // Create a RegExp object, based on the search string entered by the user.\r\n    const searchString = document.getElementById('searchString').value;\r\n    const re = new RegExp(searchString, 'i');\r\n\t\r\n    // Create an array that contains all the products that match the search string.\r\n    const matchingProducts = []\r\n    allProducts.forEach(p => {\r\n        if (re.test(p)) {\r\n            matchingProducts.push(p);\r\n        }\r\n    });\r\n\r\n    // Display the array of matching product suggestions.\r\n    displayProducts(matchingProducts, 'matchingProductsList');\r\n}\r\n\r\nfunction doFindFirst() {\r\n\r\n    // Create a RegExp object, based on the search string entered by the user.\r\n    const searchString = document.getElementById('searchString').value;\r\n    const re = new RegExp(searchString, 'i');\r\n\r\n    const matchingProduct = allProducts.find(p => re.test(p));\r\n\tif (matchingProduct !== undefined) {\r\n\t\tdisplayProducts([matchingProduct], 'matchingProductsList');\r\n\t} \r\n\telse {\r\n\t\tdisplayProducts([], 'matchingProductsList');\r\n\t\talert(`No product found matching ${searchString}`);\r\n\t}\r\n}\r\n\r\nfunction pad(n) {\r\n    return (n < 10) ? (`0${n}`) : n;\r\n}"],"mappings":"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"}