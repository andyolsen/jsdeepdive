{"version":3,"file":"script.js","names":["Util","n","nextId","allProducts","Product","id","description","tags","email","price","sales","ts","Date","descStr","toUpperCase","big","bold","fontcolor","str","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","document","addEventListener","getElementById","doGet","doInsert","doUpdate","doDelete","doDisplayProductsForTag","getValue","product","readProductDetail","push","setHtml","displayProductDetail","displayProducts","displayTags","undefined","priceStr","parseFloat","toFixed","salesStr","parseInt","setValue","products","selector","p","toString","console","log","e","element","querySelector","value","html","className","innerHTML","setHtmlAll","elements","querySelectorAll","forEach"],"sources":["Student/07-Collections/es6scripts/script.js"],"sourcesContent":["class Util {\r\n    static pad(n) {\r\n        return (n < 10) ? (`0${n}`) : n;\r\n    }\r\n}\r\n\r\nlet nextId = 1;\r\n\r\n// TODO: Change allProducts from an array into a Map.\r\nlet allProducts = [];\r\n\r\nclass Product {\r\n\r\n    constructor(id, description, tags, email, price, sales) {\r\n        this.id = id ? id : `PROD${nextId++}`;\r\n        this.description = description;\r\n        this.tags = tags;\r\n        this.email = email;\r\n        this.price = price;\r\n        this.sales = sales;\r\n        this.ts = new Date();\r\n    }\r\n\r\n    toString() {\r\n        // Build a formatted string containing everything except the timestamp.\r\n        let descStr = this.description.toUpperCase().big().bold().fontcolor('orange');\r\n        let str = `[${this.id}] ${descStr}<br/>\r\n                   Tags ${this.tags}<br/>\r\n                   Suggested by ${this.email}<br/>\r\n                   Â£${this.price} [projected sales ${this.sales}]<br/>`;\r\n\r\n        // Append the current date/time to the  string.\r\n        const tsStr = `${this.ts.getDate()}/${this.ts.getMonth() + 1}/${this.ts.getFullYear()},    \r\n                       ${Util.pad(this.ts.getHours())}:${Util.pad(this.ts.getMinutes())}:${Util.pad(this.ts.getSeconds())}`;\r\n        \r\n        // Append the timestamp in blue.\r\n        str += tsStr.fontcolor(\"blue\");\r\n        \r\n        return str;\r\n    }\r\n    \r\n    // TODO, IF TIME PERMITS: \r\n    // Add a hasTag() function, which takes a tag as a parameter \r\n    // and returns true if the product has the specified tag, or false otherwise.\r\n\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    \r\n\tdocument.getElementById('get').addEventListener('click', doGet);\r\n\tdocument.getElementById('insert').addEventListener('click', doInsert);\r\n\tdocument.getElementById('update').addEventListener('click', doUpdate);\r\n\tdocument.getElementById('delete').addEventListener('click', doDelete);\r\n\t\r\n\t// For the #taggedProductSuggestions element, handle the bubbled 'click' event from any descendent elements.\r\n\tdocument.getElementById('taggedProductSuggestions').addEventListener('click', doDisplayProductsForTag, false);\r\n});\r\n\r\nfunction doGet() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    // TODO: Complete this function, to get a product with the id entered by the user.\r\n\t\r\n}\r\n\r\nfunction doInsert() {\r\n\r\n    const product = readProductDetail();\r\n\r\n    // TODO: Modify this statement, so that it inserts the product into the map.\r\n    allProducts.push(product);\r\n\r\n\tsetHtml('#messageArea', `Product inserted successfully, id ${product.id}`, 'valid');\r\n    displayProductDetail(product);\r\n\r\n    // TODO: Modify the following two statements, so that they pass the map values into the functions.\r\n    displayProducts(allProducts);\r\n    displayTags(allProducts);\r\n}\r\n\r\nfunction doUpdate() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    // TODO: Complete this function, to update a product with the id entered by the user.\r\n\t\r\n}\r\n\r\nfunction doDelete() {\r\n    \r\n\tconst id = getValue('#id');\r\n\r\n    // TODO: Complete this function, to delete a product with the id entered by the user.\r\n\t\r\n}\r\n\r\nfunction readProductDetail(id=undefined) {\r\n\r\n    const description = getValue('#description');\r\n    const tags = getValue('#tags');\r\n    const email = getValue('#email');\r\n\r\n    const priceStr = getValue('#price');\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    const salesStr = getValue('#sales');\r\n    const sales = parseInt(salesStr);\r\n\r\n    return new Product(id, description, tags, email, price, sales);\r\n}\r\n\r\nfunction displayProductDetail(product=undefined) {\r\n\r\n    if (!product) {\r\n        setValue('#productDetail input', '');\r\n    }\r\n    else {\r\n        setValue('#id', product.id);\r\n        setValue('#description', product.description);\r\n        setValue('#tags', product.tags);\r\n        setValue('#email', product.email);\r\n        setValue('#price', product.price);\r\n        setValue('#sales', product.sales);\r\n        setValue('#lastUpdated', product.ts);\r\n    }\r\n}\r\n\r\nfunction displayProducts(products, selector='#allProductsList') {\r\n    let str = '<ul>';\r\n    for (let p of products) {\r\n        str += `<li>${p.toString()}</li>`;\r\n        console.log(`Displayed product ${p.toString()}`);\r\n    }\r\n    str += '</ul>';\r\n    setHtml(selector, str);\r\n}\r\n\r\nfunction displayTags(products) {\r\n    // TODO, IF TIME PERMITS: Implement this function, to display all tags for all products (no duplicates).\r\n\t\r\n}\r\n\r\nfunction doDisplayProductsForTag(e) {\r\n    // TODO, IF TIME PERMITS: Implement this function, to display products that match a selected tag.\r\n\t\r\n}\r\n\r\n/* Helper functions */\r\nfunction getValue(selector) {\r\n\tconst element = document.querySelector(selector);\r\n\treturn element ? element.value : '';\r\n}\r\n\r\nfunction setValue(selector, value) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.value = value;\r\n\t}\r\n}\r\n\r\nfunction setHtml(selector, html, className=undefined) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\telement.className = className;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction setHtmlAll(selector, html, className=undefined) {\r\n\tconst elements = document.querySelectorAll(selector);\r\n\telements.forEach(e => {\r\n\t\te.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\te.className = className;\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\n"],"mappings":"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"}