{"version":3,"file":"script.js","names":["nextId","Util","n","Product","id","description","tags","email","price","sales","ts","Date","descStr","toUpperCase","big","bold","fontcolor","str","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","tag","separateTags","split","filter","t","length","allProducts","Map","document","addEventListener","getElementById","doGet","doInsert","doUpdate","doDelete","doDisplayProductsForTag","getValue","product","get","setHtml","displayProductDetail","readProductDetail","set","displayProducts","values","displayTags","e","tagElements","currentTarget","getElementsByTagName","className","target","tagText","innerText","productsForTag","p","hasTag","undefined","priceStr","parseFloat","toFixed","salesStr","parseInt","setValue","products","selector","toString","console","log","allTags","Set","productTags","add","tagArea","insertAdjacentHTML","element","querySelector","value","html","innerHTML","setHtmlAll","elements","querySelectorAll","forEach"],"sources":["Student/Annex-Modules/es6scripts/script.js"],"sourcesContent":["let nextId = 1;\r\n\r\nclass Util {\r\n    static pad(n) {\r\n        return (n < 10) ? (`0${n}`) : n;\r\n    }\r\n}\r\n\r\nclass Product {\r\n\r\n    constructor(id, description, tags, email, price, sales) {\r\n        this.id = id ? id : `PROD${nextId++}`;\r\n        this.description = description;\r\n        this.tags = tags;\r\n        this.email = email;\r\n        this.price = price;\r\n        this.sales = sales;\r\n        this.ts = new Date();\r\n    }\r\n\r\n    toString() {\r\n        // Build a formatted string containing everything except the timestamp.\r\n        let descStr = this.description.toUpperCase().big().bold().fontcolor('orange');\r\n        let str = `[${this.id}] ${descStr}<br/>\r\n                   Tags ${this.tags}<br/>\r\n                   Suggested by ${this.email}<br/>\r\n                   Â£${this.price} [projected sales ${this.sales}]<br/>`;\r\n\r\n        // Append the current date/time to the  string.\r\n        const tsStr = `${this.ts.getDate()}/${this.ts.getMonth() + 1}/${this.ts.getFullYear()},    \r\n                       ${Util.pad(this.ts.getHours())}:${Util.pad(this.ts.getMinutes())}:${Util.pad(this.ts.getSeconds())}`;\r\n        \r\n        // Append the timestamp in blue.\r\n        str += tsStr.fontcolor(\"blue\");\r\n        \r\n        return str;\r\n    }\r\n    \r\n    hasTag(tag) {\r\n        const separateTags = this.tags.split(' ');\r\n        return separateTags.filter(t => t == tag).length > 0;\r\n    }\r\n}\r\n\r\nlet allProducts = new Map();\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    \r\n\tdocument.getElementById('get').addEventListener('click', doGet);\r\n\tdocument.getElementById('insert').addEventListener('click', doInsert);\r\n\tdocument.getElementById('update').addEventListener('click', doUpdate);\r\n\tdocument.getElementById('delete').addEventListener('click', doDelete);\r\n\t\r\n\t// For the #taggedProductSuggestions element, handle the bubbled 'click' event from any descendent elements.\r\n\tdocument.getElementById('taggedProductSuggestions').addEventListener('click', doDisplayProductsForTag, false);\r\n});\r\n\r\nfunction doGet() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    const product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        setHtml('#messageArea', `Product ${id} found successfully`, 'valid');\r\n    }\r\n    displayProductDetail(product);\r\n}\r\n\r\nfunction doInsert() {\r\n\r\n    const product = readProductDetail();\r\n    allProducts.set(product.id, product);\r\n\r\n\tsetHtml('#messageArea', `Product inserted successfully, id ${product.id}`, 'valid');\r\n    displayProductDetail(product);\r\n\r\n    displayProducts(allProducts.values());\r\n    displayTags(allProducts.values());\r\n}\r\n\r\nfunction doUpdate() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    let product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        product = readProductDetail(id);\r\n        allProducts.set(id, product);\r\n\r\n        setHtml('#messageArea', `Product updated successfully, id ${product.id}`, 'valid');\r\n        displayProductDetail(product);\r\n        displayProducts(allProducts.values());\r\n        displayTags(allProducts.values());\r\n    }\r\n}\r\n\r\nfunction doDelete() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    const product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        allProducts.delete(id);\r\n\r\n        setHtml('#messageArea', `Product deleted successfully, id ${product.id}`, 'valid');\r\n        displayProducts(allProducts.values());\r\n        displayTags(allProducts.values());\r\n    }\r\n    displayProductDetail(product);\r\n}\r\n\r\nfunction doDisplayProductsForTag(e) {\r\n\r\n\t// The user clicked a tag inside the #taggedProductSuggestions element.\r\n\t// The #taggedProductSuggestions element itself is designated by e.currentTarget.\r\n\t// Get all the tags (i.e. <a> elements) inside the #taggedProductSuggestions element.\r\n\tconst tagElements = e.currentTarget.getElementsByTagName('a');\r\n\t\r\n\t// Highlight the tag the user actually clicked on.\r\n\tfor (let t of tagElements) {\r\n\t\tt.className = (t == e.target) ? 'tagSelected' : '';\r\n\t}\r\n\t\r\n\t// Display products that have this tag.\r\n    const tagText = e.target.innerText;    \r\n    const productsForTag = [...allProducts.values()].filter(p => p.hasTag(tagText));\r\n    displayProducts(productsForTag, '#taggedProductsList');\r\n}\r\n\r\nfunction readProductDetail(id=undefined) {\r\n\r\n    const description = getValue('#description');\r\n    const tags = getValue('#tags');\r\n    const email = getValue('#email');\r\n\r\n    const priceStr = getValue('#price');\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    const salesStr = getValue('#sales');\r\n    const sales = parseInt(salesStr);\r\n\r\n    return new Product(id, description, tags, email, price, sales);\r\n}\r\n\r\nfunction displayProductDetail(product=undefined) {\r\n\r\n    if (!product) {\r\n        setValue('#productDetail input', '');\r\n    }\r\n    else {\r\n        setValue('#id', product.id);\r\n        setValue('#description', product.description);\r\n        setValue('#tags', product.tags);\r\n        setValue('#email', product.email);\r\n        setValue('#price', product.price);\r\n        setValue('#sales', product.sales);\r\n        setValue('#lastUpdated', product.ts);\r\n    }\r\n}\r\n\r\nfunction displayProducts(products, selector='#allProductsList') {\r\n    let str = '<ul>';\r\n    for (let p of products) {\r\n        str += `<li>${p.toString()}</li>`;\r\n        console.log(`Displayed product ${p.toString()}`);\r\n    }\r\n    str += '</ul>';\r\n    setHtml(selector, str);\r\n}\r\n\r\nfunction displayTags(products) {\r\n\r\n    setHtml('#tagArea', '');\r\n    setHtml('#taggedProductsList', '');\r\n\r\n    let allTags = new Set();    \r\n    for (let p of products) {\r\n        const productTags = p.tags.split(' ');\r\n        for (let t of productTags) {\r\n            allTags.add(t);\r\n        }\r\n    }\r\n    \r\n\tconst tagArea = document.getElementById('tagArea');\r\n    for (let t of allTags) {\r\n        tagArea.insertAdjacentHTML('beforeend', `<a href=\"#\">${t}</a>`);\r\n    }\r\n}\r\n\r\n/* Helper functions */\r\nfunction getValue(selector) {\r\n\tconst element = document.querySelector(selector);\r\n\treturn element ? element.value : '';\r\n}\r\n\r\nfunction setValue(selector, value) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.value = value;\r\n\t}\r\n}\r\n\r\nfunction setHtml(selector, html, className=undefined) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\telement.className = className;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction setHtmlAll(selector, html, className=undefined) {\r\n\tconst elements = document.querySelectorAll(selector);\r\n\telements.forEach(e => {\r\n\t\te.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\te.className = className;\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n"],"mappings":"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"}