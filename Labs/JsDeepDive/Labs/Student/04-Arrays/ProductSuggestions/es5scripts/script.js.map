{"version":3,"file":"script.js","names":["allProducts","document","addEventListener","getElementById","doAdd","sort","displayProducts","reverse","doSearch","description","value","email","priceStr","price","parseFloat","toFixed","salesStr","sales","parseInt","product","toUpperCase","big","bold","fontcolor","ts","Date","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","push","products","targetElement","str","i","innerHTML","searchString","re","RegExp","matchingProducts","curr","test","n"],"sources":["Student/04-Arrays/ProductSuggestions/es6scripts/script.js"],"sourcesContent":["const allProducts = []; \r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\t\r\n    document.getElementById('add').addEventListener('click', doAdd);\r\n    \r\n    document.getElementById('sort').addEventListener('click', () => {\r\n        allProducts.sort();\r\n        displayProducts(allProducts);\r\n    });\r\n    \r\n    document.getElementById('reverse').addEventListener('click', () => {\r\n\t\tallProducts.reverse();\r\n        displayProducts(allProducts);\r\n    });    \r\n    \r\n    document.getElementById('search').addEventListener('click', doSearch);\r\n});\r\n\r\nfunction doAdd() {\r\n\r\n    // Get the product suggestion (text).\r\n    const description = document.getElementById('description').value;\r\n\r\n    // Get the user's email address (text).\r\n    const email = document.getElementById('email').value;\r\n\r\n    // Get the recommended price (float).\r\n    const priceStr = document.getElementById('price').value;\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    // Get the estimated sales/year (int).\r\n    const salesStr = document.getElementById('sales').value;\r\n    const sales = parseInt(salesStr);\r\n\r\n    // Build a formatted string for this product suggestion.\r\n    let product = description.toUpperCase().big().bold().fontcolor('orange') + `<br/>\r\n                                Suggested by ${email}<br/>\r\n                                Â£${price} [projected sales ${sales}]<br/>`;\r\n\r\n    // Append the current date/time to the product string.\r\n    const ts = new Date();\r\n    const tsStr = `${ts.getDate()}/${ts.getMonth() + 1}/${ts.getFullYear()},    \r\n                   ${pad(ts.getHours())}:${pad(ts.getMinutes())}:${pad(ts.getSeconds())}`;\r\n    product += tsStr.fontcolor('blue');\r\n\r\n    // Add this product to the global array of all products.\r\n    allProducts.push(product);\r\n\r\n    // Redisplay all the products.\r\n    displayProducts(allProducts);\r\n}\r\n\r\nfunction displayProducts(products, targetElement='allProductsList') {\r\n\r\n    let str = '<ul>';\r\n    for (var i in products) {\r\n        str += `<li>${products[i]}</li>`;\r\n    }\r\n    str += '</ul>';\r\n\r\n    document.getElementById(targetElement).innerHTML = str;\r\n}\r\n\r\nfunction doSearch() {\r\n\r\n    // Create a RegExp object, based on the search string entered by the user.\r\n    const searchString = document.getElementById('searchString').value;\r\n    const re = new RegExp(searchString, 'i');\r\n\r\n    // Create an array that contains all the products that match the search string.\r\n    const matchingProducts = []\r\n    for (let i in allProducts) {\r\n\r\n        // Get the next product from the global array.\r\n        const curr = allProducts[i];\r\n\r\n        // If it matches the search string, add it into the array of matches.\r\n        if (re.test(curr)) {\r\n            matchingProducts.push(curr);\r\n        }\r\n    }\r\n\r\n    // Display the array of matching product suggestions.\r\n    displayProducts(matchingProducts, 'matchingProductsList');\r\n}\r\n\r\nfunction pad(n) {\r\n    return (n < 10) ? (`0${n}`) : n;\r\n}"],"mappings":"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"}