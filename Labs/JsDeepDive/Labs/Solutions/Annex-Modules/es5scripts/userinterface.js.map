{"version":3,"file":"userinterface.js","names":["readProductDetail","id","undefined","description","getValue","tags","email","priceStr","price","parseFloat","toFixed","salesStr","sales","parseInt","Product","displayProductDetail","product","setValue","ts","displayProducts","products","selector","str","p","toString","console","log","setHtml","displayTags","allTags","Set","productTags","split","t","add","tagArea","document","getElementById","insertAdjacentHTML","doDisplayProductsForTag","e","tagElements","currentTarget","getElementsByTagName","className","target","tagText","innerText","productsForTag","allProducts","values","filter","hasTag","element","querySelector","value","html","innerHTML","setHtmlAll","elements","querySelectorAll","forEach"],"sources":["Solutions/Annex-Modules/es6scripts/userinterface.js"],"sourcesContent":["import Product from './product.js';\r\n\r\nexport function readProductDetail(id=undefined) {\r\n\r\n    const description = getValue('#description');\r\n    const tags = getValue('#tags');\r\n    const email = getValue('#email');\r\n\r\n    const priceStr = getValue('#price');\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    const salesStr = getValue('#sales');\r\n    const sales = parseInt(salesStr);\r\n\r\n    return new Product(id, description, tags, email, price, sales);\r\n}\r\n\r\nexport function displayProductDetail(product=undefined) {\r\n\r\n    if (!product) {\r\n        setValue('#productDetail input', '');\r\n    }\r\n    else {\r\n        setValue('#id', product.id);\r\n        setValue('#description', product.description);\r\n        setValue('#tags', product.tags);\r\n        setValue('#email', product.email);\r\n        setValue('#price', product.price);\r\n        setValue('#sales', product.sales);\r\n        setValue('#lastUpdated', product.ts);\r\n    }\r\n}\r\n\r\nexport function displayProducts(products, selector='#allProductsList') {\r\n    let str = '<ul>';\r\n    for (let p of products) {\r\n        str += `<li>${p.toString()}</li>`;\r\n        console.log(`Displayed product ${p.toString()}`);\r\n    }\r\n    str += '</ul>';\r\n    setHtml(selector, str);\r\n}\r\n\r\nexport function displayTags(products) {\r\n\r\n    setHtml('#tagArea', '');\r\n    setHtml('#taggedProductsList', '');\r\n\r\n    let allTags = new Set();    \r\n    for (let p of products) {\r\n        const productTags = p.tags.split(' ');\r\n        for (let t of productTags) {\r\n            allTags.add(t);\r\n        }\r\n    }\r\n    \r\n\tconst tagArea = document.getElementById('tagArea');\r\n    for (let t of allTags) {\r\n        tagArea.insertAdjacentHTML('beforeend', `<a href=\"#\">${t}</a>`);\r\n    }\r\n}\r\n\r\nexport function doDisplayProductsForTag(e) {\r\n\r\n\t// The user clicked a tag inside the #taggedProductSuggestions element.\r\n\t// The #taggedProductSuggestions element itself is designated by e.currentTarget.\r\n\t// Get all the tags (i.e. <a> elements) inside the #taggedProductSuggestions element.\r\n\tconst tagElements = e.currentTarget.getElementsByTagName('a');\r\n\t\r\n\t// Highlight the tag the user actually clicked on.\r\n\tfor (let t of tagElements) {\r\n\t\tt.className = (t == e.target) ? 'tagSelected' : '';\r\n\t}\r\n\t\r\n\t// Display products that have this tag.\r\n    const tagText = e.target.innerText;    \r\n    const productsForTag = [...allProducts.values()].filter(p => p.hasTag(tagText));\r\n    displayProducts(productsForTag, '#taggedProductsList');\r\n}\r\n\r\n/* Helper functions */\r\nexport function getValue(selector) {\r\n\tconst element = document.querySelector(selector);\r\n\treturn element ? element.value : '';\r\n}\r\n\r\nexport function setValue(selector, value) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.value = value;\r\n\t}\r\n}\r\n\r\nexport function setHtml(selector, html, className=undefined) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\telement.className = className;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setHtmlAll(selector, html, className=undefined) {\r\n\tconst elements = document.querySelectorAll(selector);\r\n\telements.forEach(e => {\r\n\t\te.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\te.className = className;\r\n\t\t}\r\n\t})\r\n}\r\n"],"mappings":"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"}