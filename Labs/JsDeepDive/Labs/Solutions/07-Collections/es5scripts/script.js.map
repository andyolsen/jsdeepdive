{"version":3,"file":"script.js","names":["Util","n","nextId","allProducts","Map","Product","id","description","tags","email","price","sales","ts","Date","descStr","toUpperCase","big","bold","fontcolor","str","tsStr","getDate","getMonth","getFullYear","pad","getHours","getMinutes","getSeconds","tag","separateTags","split","filter","t","length","document","addEventListener","getElementById","doGet","doInsert","doUpdate","doDelete","doDisplayProductsForTag","getValue","product","get","setHtml","displayProductDetail","readProductDetail","set","displayProducts","values","displayTags","undefined","priceStr","parseFloat","toFixed","salesStr","parseInt","setValue","products","selector","p","toString","console","log","allTags","Set","productTags","add","tagArea","insertAdjacentHTML","e","tagElements","currentTarget","getElementsByTagName","className","target","tagText","innerText","productsForTag","hasTag","element","querySelector","value","html","innerHTML","setHtmlAll","elements","querySelectorAll","forEach"],"sources":["Solutions/07-Collections/es6scripts/script.js"],"sourcesContent":["class Util {\r\n    static pad(n) {\r\n        return (n < 10) ? (`0${n}`) : n;\r\n    }\r\n} \r\n\r\nlet nextId = 1;\r\nlet allProducts = new Map();\r\n\r\nclass Product {\r\n\r\n    constructor(id, description, tags, email, price, sales) {\r\n        this.id = id ? id : `PROD${nextId++}`;\r\n        this.description = description;\r\n        this.tags = tags;\r\n        this.email = email;\r\n        this.price = price;\r\n        this.sales = sales;\r\n        this.ts = new Date();\r\n    }\r\n\r\n    toString() {\r\n        // Build a formatted string containing everything except the timestamp.\r\n        let descStr = this.description.toUpperCase().big().bold().fontcolor('orange');\r\n        let str = `[${this.id}] ${descStr}<br/>\r\n                   Tags ${this.tags}<br/>\r\n                   Suggested by ${this.email}<br/>\r\n                   Â£${this.price} [projected sales ${this.sales}]<br/>`;\r\n\r\n        // Append the current date/time to the  string.\r\n        const tsStr = `${this.ts.getDate()}/${this.ts.getMonth() + 1}/${this.ts.getFullYear()},    \r\n                       ${Util.pad(this.ts.getHours())}:${Util.pad(this.ts.getMinutes())}:${Util.pad(this.ts.getSeconds())}`;\r\n        \r\n        // Append the timestamp in blue.\r\n        str += tsStr.fontcolor(\"blue\");\r\n        \r\n        return str;\r\n    }\r\n    \r\n    hasTag(tag) {\r\n        const separateTags = this.tags.split(' ');\r\n        return separateTags.filter(t => t == tag).length > 0;\r\n    }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    \r\n\tdocument.getElementById('get').addEventListener('click', doGet);\r\n\tdocument.getElementById('insert').addEventListener('click', doInsert);\r\n\tdocument.getElementById('update').addEventListener('click', doUpdate);\r\n\tdocument.getElementById('delete').addEventListener('click', doDelete);\r\n\t\r\n\t// For the #taggedProductSuggestions element, handle the bubbled 'click' event from any descendent elements.\r\n\tdocument.getElementById('taggedProductSuggestions').addEventListener('click', doDisplayProductsForTag, false);\r\n});\r\n\r\nfunction doGet() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    const product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        setHtml('#messageArea', `Product ${id} found successfully`, 'valid');\r\n    }\r\n    displayProductDetail(product);\r\n}\r\n\r\nfunction doInsert() {\r\n\r\n    const product = readProductDetail();\r\n    allProducts.set(product.id, product);\r\n\r\n\tsetHtml('#messageArea', `Product inserted successfully, id ${product.id}`, 'valid');\r\n    displayProductDetail(product);\r\n\r\n    displayProducts(allProducts.values());\r\n    displayTags(allProducts.values());\r\n}\r\n\r\nfunction doUpdate() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    let product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        product = readProductDetail(id);\r\n        allProducts.set(id, product);\r\n\r\n        setHtml('#messageArea', `Product updated successfully, id ${product.id}`, 'valid');\r\n        displayProductDetail(product);\r\n        displayProducts(allProducts.values());\r\n        displayTags(allProducts.values());\r\n    }\r\n}\r\n\r\nfunction doDelete() {\r\n\r\n    const id = getValue('#id');\r\n\r\n    const product = allProducts.get(id);\r\n    if (!product) {\r\n        setHtml('#messageArea', `Product ${id} not found`, 'error');\r\n    }\r\n    else {\r\n        allProducts.delete(id);\r\n\r\n        setHtml('#messageArea', `Product deleted successfully, id ${product.id}`, 'valid');\r\n        displayProducts(allProducts.values());\r\n        displayTags(allProducts.values());\r\n    }\r\n    displayProductDetail(product);\r\n}\r\n\r\nfunction readProductDetail(id=undefined) {\r\n\r\n    const description = getValue('#description');\r\n    const tags = getValue('#tags');\r\n    const email = getValue('#email');\r\n\r\n    const priceStr = getValue('#price');\r\n    const price = parseFloat(priceStr).toFixed(2);\r\n\r\n    const salesStr = getValue('#sales');\r\n    const sales = parseInt(salesStr);\r\n\r\n    return new Product(id, description, tags, email, price, sales);\r\n}\r\n\r\nfunction displayProductDetail(product=undefined) {\r\n\r\n    if (!product) {\r\n        setValue('#productDetail input', '');\r\n    }\r\n    else {\r\n        setValue('#id', product.id);\r\n        setValue('#description', product.description);\r\n        setValue('#tags', product.tags);\r\n        setValue('#email', product.email);\r\n        setValue('#price', product.price);\r\n        setValue('#sales', product.sales);\r\n        setValue('#lastUpdated', product.ts);\r\n    }\r\n}\r\n\r\nfunction displayProducts(products, selector='#allProductsList') {\r\n    let str = '<ul>';\r\n    for (let p of products) {\r\n        str += `<li>${p.toString()}</li>`;\r\n        console.log(`Displayed product ${p.toString()}`);\r\n    }\r\n    str += '</ul>';\r\n    setHtml(selector, str);\r\n}\r\n\r\nfunction displayTags(products) {\r\n\r\n    setHtml('#tagArea', '');\r\n    setHtml('#taggedProductsList', '');\r\n\r\n    let allTags = new Set();    \r\n    for (let p of products) {\r\n        const productTags = p.tags.split(' ');\r\n        for (let t of productTags) {\r\n            allTags.add(t);\r\n        }\r\n    }\r\n    \r\n\tconst tagArea = document.getElementById('tagArea');\r\n    for (let t of allTags) {\r\n        tagArea.insertAdjacentHTML('beforeend', `<a href=\"#\">${t}</a>`);\r\n    }\r\n}\r\n\r\nfunction doDisplayProductsForTag(e) {\r\n\r\n\t// The user clicked a tag inside the #taggedProductSuggestions element.\r\n\t// The #taggedProductSuggestions element itself is designated by e.currentTarget.\r\n\t// Get all the tags (i.e. <a> elements) inside the #taggedProductSuggestions element.\r\n\tconst tagElements = e.currentTarget.getElementsByTagName('a');\r\n\t\r\n\t// Highlight the tag the user actually clicked on.\r\n\tfor (let t of tagElements) {\r\n\t\tt.className = (t == e.target) ? 'tagSelected' : '';\r\n\t}\r\n\t\r\n\t// Display products that have this tag.\r\n    const tagText = e.target.innerText;    \r\n    const productsForTag = [...allProducts.values()].filter(p => p.hasTag(tagText));\r\n    displayProducts(productsForTag, '#taggedProductsList');\r\n}\r\n\r\n/* Helper functions */\r\nfunction getValue(selector) {\r\n\tconst element = document.querySelector(selector);\r\n\treturn element ? element.value : '';\r\n}\r\n\r\nfunction setValue(selector, value) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.value = value;\r\n\t}\r\n}\r\n\r\nfunction setHtml(selector, html, className=undefined) {\r\n\tconst element = document.querySelector(selector);\r\n\tif (element) {\r\n\t\telement.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\telement.className = className;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction setHtmlAll(selector, html, className=undefined) {\r\n\tconst elements = document.querySelectorAll(selector);\r\n\telements.forEach(e => {\r\n\t\te.innerHTML = html;\r\n\t\tif (className) {\r\n\t\t\te.className = className;\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\n\r\n"],"mappings":"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"}